[globalOptions]


# Set the pcrglobwb output directory in an absolute path.
#~ outputDir = MAIN_OUTPUT_DIR
#~ outputDir = /scratch-shared/edwindql/test_pcrglobwb_globgm/test_pataki/
#~ outputDir = /scratch-shared/edwindql/test_pcrglobwb_globgm/test_globgm_oflline/
#~ outputDir = /scratch-shared/edwindql/test_pcrglobwb_globgm/java_05min/

outputDir    = /scratch-shared/edwin/pcrglobwb_globgm_offline_v2024-04-26/java_05min/


# Set the input directory map in an absolute path . 
# - The locations of input parameter files will be relative to the following "inputDir".
#~ # - on azure - under /mnt
#~ inputDir     = /mnt/pcrglobwb/pcrglobwb_input/
# - on snellius:
inputDir     = /projects/0/dfguu/users/edwin/data/pcrglobwb_input_aqueduct/version_2021-09-16/


# Map of clone (must be provided in PCRaster maps)
# - Spatial resolution and coverage are based on this map:
#~ cloneMap = general/cloneMaps/global_parallelization/mask_M%i.map
#~ cloneMap = general/cloneMaps/Mississippi05min.clone.map
#~ cloneMap = general/cloneMaps/RhineMeuse05min.clone.map
#~ cloneMap = /projects/0/dfguu/data/hydroworld/others/Java/Java05min.clone.map

cloneMap    = /projects/0/dfguu/data/hydroworld/others/Java/Java05min.clone.map


# The area/landmask of interest:
# If None, area/landmask is limited for cells with ldd value. 
#~ landmask  = general/cloneMaps/global_parallelization/mask_M%i.map
#~ landmask  = None

landmask     = None
# Note that for the current version of the coupled PCR-GLOBWB-GLOBGM, ideally the landmask must NOT be None, particularly as we set the ibound "-1" outside the landmask. If None, the landmask will be set according to the extent of ldd. 


# netcdf attributes for output files:
institution = Department of Physical Geography, Utrecht University
title       = PCR-GLOBWB-GLOBGM output - MAIN_OUTPUT_DIR
description = by Edwin H. Sutanudjaja


# starting and end dates

#~ startTime = STARTING_DATE
#~ endTime   = END_DATE

#~ startTime    = 1979-01-30
#~ endTime      = 2019-12-31
#~ # Note that for the current version of the coupled PCR-GLOBWB-GLOBGM, ideally the starting date must be the first date of the month.

startTime    = 1979-01-01
endTime      = 2019-12-31
# Note that for the current version of the coupled PCR-GLOBWB-GLOBGM, ideally the starting date must be the first date of the month.


# spinning up options:
minConvForSoilSto    = 0.0
minConvForGwatSto    = 0.0
minConvForChanSto    = 0.0
minConvForTotlSto    = 0.0
#~ maxSpinUpsInYears = NUMBER_OF_SPINUP_YEARS
#~ maxSpinUpsInYears = 5

maxSpinUpsInYears = 0
# Note that for the current version of the coupled PCR-GLOBWB-GLOBGM, there should be no spin-up.


# option/directory for saving the spin-up directory 
spinUpOutputDir = True


#~ # options for merging
#~ with_merging = True
#~ with_merging = False
#~ cloneAreas   = Global


[meteoOptions]

precipitationNC      = /projects/0/dfguu/users/edwin/data/isimip_forcing/isimip3a_version_2021-09-XX/copied_on_2021-09-XX/GSWP3-W5E5/merged/gswp3-w5e5_obsclim_pr_global_daily_1901_2019_version_2021-09-XX.nc
temperatureNC        = /projects/0/dfguu/users/edwin/data/isimip_forcing/isimip3a_version_2021-09-XX/copied_on_2021-09-XX/GSWP3-W5E5/merged/gswp3-w5e5_obsclim_tas_global_daily_1901_2019_version_2021-09-XX.nc

referenceETPotMethod = Input
refETPotFileNC       = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_daily_files/version_2021-09-16_et0_merged/referencePotET_gswp3-w5e5_dailyTot_output_1960-2019.nc


# Set the forcing temperature and precipitation files
#~ precipitationNC    = PRECIPITATION_FORCING_FILE
#~ temperatureNC      = TEMPERATURE_FORCING_FILE


# conversion constants and factors to correct forcing values (optional) so that the units are in m.day-1 and degree Celcius                                                                                                           
precipitationConstant    = 0.0
precipitationFactor      = 86.4
temperatureConstant      = -273.15
temperatureFactor        = 1.0


# Method to calculate referencePotETP (reference potential evaporation+transpiration)
#~ referenceETPotMethod = Penman-Monteith
#~ refETPotFileNC       = None


#~ # - test with Hamon
#~ referenceETPotMethod = Hamon
#~ refETPotFileNC       = None

#~ # - using the input file
#~ referenceETPotMethod    = Input
#~ refETPotFileNC          = /scratch/depfg/sutan101/pcrglobwb_aqueduct_2021/version_2021-06-23_w5e5v2_updated_gmd_parameters/global/merged_ref_pot_et/merged_1979-2019_with_climatology_on_1978/referencePotET_dailyTot_output_1979-2019_with_climatology_on_1978.nc


# meteo variables for calculating reference potential evaporation based on Penman-Monteith (optional)
#
# - 10 m wind speed, unit: m.s-1
#~ wind_speed_10m              = WIND_FORCING_FILE
#~ # - if wind_speed_10m is None, it will be estimated from u and v components
#~ wind_speed_10m_u_comp    = None
#~ wind_speed_10m_v_comp    = None
#
# - atmospheric pressure, unit: Pascal
#~ atmospheric_pressure        = PRESSURE_FORCING_FILE
#
# - shortwave (solar) radiation, unit: J.m-2.day-1 (default) or W.m-2
#~ shortwave_radiation_input_in_w_per_m2 = True 
#~ shortwave_radiation  = SHORTWAVE_RADIATION_FORCING_FILE
#
# - relative humidity, unit: 1 
#~ relative_humidity    = RELATIVE_HUMIDITY_FORCING_FILE
#
#~ # - conversion constant for the relative_humidity so that the values ranging from 0 to 1
#~ consta_for_relative_humidity = 0.0                                                                                                      
#~ factor_for_relative_humidity = 0.01 

# initial conditions:
avgAnnualDiurnalDeltaTempIni = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/avgAnnualDiurnalDeltaTemp_1978-12-31.map
avgAnnualPrecipitationIni    = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/avgAnnualPrecipitation_1978-12-31.map
avgAnnualTemperatureIni      = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/avgAnnualTemperature_1978-12-31.map


[meteoDownscalingOptions]
# This section is for a 5 arcmin run, for downscaling meteorological forcing at 30 arcmin to 5 arcmin.  
                                                                                                                                        
downscalePrecipitation  = False                                                                                                                                   
downscaleTemperature    = True                                                                                                                                   
downscaleReferenceETPot = False                                                                                                                                   
   
# downscaling (based on the digital elevation model):                                                                                                            
# The downscaling will be performed by providing the "cellIds" (meteoDownscaleIds) of lower resolution cells.                                                    
meteoDownscaleIds = general/uniqueIds_30min.nc                                                                      
highResolutionDEM = general/dem_average_topography_parameters_5min_april_2021_global_covered_with_zero.nc                                                                           
   
# lapse rates:                                                                                                                                                   
temperLapseRateNC = general/temperature_slope.nc                                                                     
precipLapseRateNC = general/precipitation_slope.nc                                                                   
                                                                                                                                                                 
# downscaling criteria (TODO: remove these):                                                                                                                     
temperatCorrelNC  = general/temperature_correl.nc                                                                     
precipitCorrelNC  = general/precipitation_correl.nc                                                                   
                                                                                                                                                                 
# windows length (unit: arc-degree) for smoothing/averaging forcing data (not recommended):                                                                      
smoothingWindowsLength = 0


[landSurfaceOptions]

debugWaterBalance = True

numberOfUpperSoilLayers = 2

# soil and parameters
# - they are used for all land cover types, unless they are are defined in certain land cover type options 
#   (e.g. different/various soil types for agriculture areas)  
topographyNC = general/topography_parameters_5min_april_2021_global_covered_with_zero.nc

# - using soilGrids
soilPropertiesNC        = None
# - if soilPropertiesNC = None, the following soil parameters will be used
firstStorDepth          = general/layerDepth_average_1_global_05arcmin.nc
secondStorDepth         = general/layerDepth_average_2_global_05arcmin.nc
soilWaterStorageCap1    = general/WHC_average_1_global_05arcmin.nc
soilWaterStorageCap2    = general/WHC_average_2_global_05arcmin.nc
airEntryValue1          = general/psiAir_average_1_global_05arcmin.nc
airEntryValue2          = general/psiAir_average_2_global_05arcmin.nc
poreSizeBeta1           = general/BCH_average_1_global_05arcmin.nc
poreSizeBeta2           = general/BCH_average_2_global_05arcmin.nc
resVolWC1               = general/vmcRes_average_1_global_05arcmin.nc
resVolWC2               = general/vmcRes_average_2_global_05arcmin.nc
satVolWC1               = general/vmcSat_average_1_global_05arcmin.nc
satVolWC2               = general/vmcSat_average_2_global_05arcmin.nc
KSat1                   = general/kSat_average_1_global_05arcmin.nc
KSat2                   = general/kSat_average_2_global_05arcmin.nc
					    
percolationImp          = general/global_05min_impeded_drainage_permafrost_dsmw_correct_lats.nc


# netcdf time series for historical expansion of irrigation areas (unit: hectares). 
# Note: The resolution of this map must be consisten with the resolution of cellArea. 
# - historical
historicalIrrigationArea    = historical_and_ssp_files/irrigated_areas_historical_1960-2019.nc
#~ # - ssp3
#~ historicalIrrigationArea = historical_and_ssp_files/irrigated_areas_ssp3_2000-2050.nc

#~ sutan101@gpu038.cluster:/scratch/depfg/sutan101/data/pcrglobwb_input_arise/develop/global_05min/waterUse/irrigated_areas/version_2021-09-13$ ls -lah *
#~ -rw-r--r-- 1 sutan101 depfg 2.1G Sep 13 21:01 irrigated_areas_historical_1960-2019.nc
#~ -rw-r--r-- 1 sutan101 depfg 1.8G Sep 13 21:01 irrigated_areas_ssp1_2000-2050.nc
#~ -rw-r--r-- 1 sutan101 depfg 1.8G Sep 13 21:01 irrigated_areas_ssp2_2000-2050.nc
#~ -rw-r--r-- 1 sutan101 depfg 1.8G Sep 13 21:01 irrigated_areas_ssp3_2000-2050.nc
#~ -rw-r--r-- 1 sutan101 depfg 1.8G Sep 13 21:01 irrigated_areas_ssp5_2000-2050.nc
#~ -rw-r--r-- 1 sutan101 depfg  107 Sep 13 21:47 source.txt


# domestic and industrial water demand files
# - historical
domesticWaterDemandFile      = historical_and_ssp_files/domestic_water_demand_historical_1960-2019.nc
industryWaterDemandFile      = historical_and_ssp_files/industry_water_demand_historical_1960-2019.nc
#~ # - ssp3                  
#~ domesticWaterDemandFile   = historical_and_ssp_files/domestic_water_demand_ssp3_2000-2100.nc
#~ industryWaterDemandFile   = historical_and_ssp_files/industry_water_demand_ssp3_2000-2100.nc


#~ sutan101@gpu038.cluster:/scratch/depfg/sutan101/data/pcrglobwb_input_arise/develop/global_05min/waterUse/waterDemand/version_2021-09-13$ ls -lah */*
#~ -rw-r--r-- 1 sutan101 depfg  51G Sep 13 21:18 domestic_water_demands/domestic_water_demand_historical_1960-2019.nc
#~ -rw-r--r-- 1 sutan101 depfg  85G Sep 13 21:16 domestic_water_demands/domestic_water_demand_ssp1_2000-2100.nc
#~ -rw-r--r-- 1 sutan101 depfg  85G Sep 13 21:22 domestic_water_demands/domestic_water_demand_ssp2_2000-2100.nc
#~ -rw-r--r-- 1 sutan101 depfg  85G Sep 13 21:15 domestic_water_demands/domestic_water_demand_ssp3_2000-2100.nc
#~ -rw-r--r-- 1 sutan101 depfg  85G Sep 13 21:15 domestic_water_demands/domestic_water_demand_ssp5_2000-2100.nc
#~ -rw-r--r-- 1 sutan101 depfg  51G Sep 13 21:25 industry_water_demands/industry_water_demand_historical_1960-2019.nc
#~ -rw-r--r-- 1 sutan101 depfg  85G Sep 13 21:24 industry_water_demands/industry_water_demand_ssp1_2000-2100.nc
#~ -rw-r--r-- 1 sutan101 depfg  85G Sep 13 21:28 industry_water_demands/industry_water_demand_ssp2_2000-2100.nc
#~ -rw-r--r-- 1 sutan101 depfg  85G Sep 13 21:22 industry_water_demands/industry_water_demand_ssp3_2000-2100.nc
#~ -rw-r--r-- 1 sutan101 depfg  85G Sep 13 21:24 industry_water_demands/industry_water_demand_ssp5_2000-2100.nc



# livestock water demand data (unit must be in m.day-1)
livestockWaterDemandFile = general/livestock_water_demand_05min.nc


includeDomesticWaterDemand  = True
includeIndustryWaterDemand  = True
includeLivestockWaterDemand = True

includeIrrigation = True


# a pcraster map/value defining irrigation efficiency (dimensionless) - optional
irrigationEfficiency     = general/efficiency.nc


# desalination water supply (maximum/potential/capacity)
desalinationWater = general/desalination_water_version_april_2015.nc


# zone IDs (scale) at which allocations of groundwater and surface water (as well as desalinated water) are performed  
allocationSegmentsForGroundSurfaceWater    = general/abstraction_zones_60min_05min.nc


# pcraster maps defining the partitioning of groundwater - surface water source 
#
# - predefined surface water - groundwater partitioning for irrigation demand (e.g. based on Siebert, Global Map of Irrigation Areas version 5)
irrigationSurfaceWaterAbstractionFractionData           = general/AEI_SWFRAC.nc
# -- quality map
irrigationSurfaceWaterAbstractionFractionDataQuality    = general/AEI_QUAL.nc
#
# - threshold values defining the preference for surface water source for irrigation purpose
# -- treshold to maximize surface water irrigation use (cells with irrSurfaceWaterAbstractionFraction above this will prioritize irrigation surface water use)
treshold_to_maximize_irrigation_surface_water           = 0.50
# -- treshold to minimize fossil water withdrawal for irrigation (cells with irrSurfaceWaterAbstractionFraction below this have no fossil withdrawal for irrigation)
treshold_to_minimize_fossil_groundwater_irrigation      = 0.70
#
# - predefined surface water - groundwater partitioning for non irrigation demand (e.g. based on McDonald, 2014)
maximumNonIrrigationSurfaceWaterAbstractionFractionData = general/max_city_sw_fraction.nc


# if using MODFLOW, 'limitAbstraction' (in the 'landSurfaceOptions') must be True (as the abstraction cannot exceed storGroundwater; the concept of fossil groundwater is also abandoned)
limitAbstraction = True


[forestOptions]

name = forest
debugWaterBalance = True

# snow module properties
snowModuleType      =  Simple
freezingT           =  0.0
degreeDayFactor     =  0.0055
snowWaterHoldingCap =  0.1
refreezingCoeff     =  0.05


landCoverMapsNC   = None
# If NC file is not provided, we have to provide the following pcraster maps:

fracVegCover      = general/vegf_tall.map
minSoilDepthFrac  = general/minf_tall.map
maxSoilDepthFrac  = general/maxf_tall.map
rootFraction1     = general/rfrac1_tall.map
rootFraction2     = general/rfrac2_tall.map
maxRootDepth      = 1.0
# Note: The maxRootDepth is not used for non irrigated land cover type. 	
#
# Parameters for the Arno's scheme:
arnoBeta = None
# If arnoBeta is defined, the soil water capacity distribution is based on this.
# If arnoBeta is NOT defined, maxSoilDepthFrac must be defined such that arnoBeta will be calculated based on maxSoilDepthFrac and minSoilDepthFrac.


cropCoefficientNC = general/tall_crop_coefficient.nc
coverFractionNC   = general/tall_cover_fraction.nc
interceptCapNC    = general/tall_intercept_capacity.nc


# other paramater values
minTopWaterLayer  = 0.0
minCropKC         = 0.2
minInterceptCap   = 0.0002


noParameterExtrapolation = True


# initial conditions:
interceptStorIni = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/interceptStor_forest_1978-12-31.map
snowCoverSWEIni  = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/snowCoverSWE_forest_1978-12-31.map
snowFreeWaterIni = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/snowFreeWater_forest_1978-12-31.map
topWaterLayerIni = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/topWaterLayer_forest_1978-12-31.map
storUppIni       = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/storUpp_forest_1978-12-31.map
storLowIni       = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/storLow_forest_1978-12-31.map
interflowIni     = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/interflow_forest_1978-12-31.map




[grasslandOptions]

name = grassland
debugWaterBalance = True

# snow module properties
snowModuleType      =  Simple
freezingT           =  0.0
degreeDayFactor     =  0.0055
snowWaterHoldingCap =  0.1
refreezingCoeff     =  0.05


landCoverMapsNC   = None
# If NC file is not provided, we have to provide the following pcraster maps:

fracVegCover      = general/vegf_short.map

minSoilDepthFrac  = general/minf_short.map
maxSoilDepthFrac  = general/maxf_short.map
rootFraction1     = general/rfrac1_short.map
rootFraction2     = general/rfrac2_short.map
maxRootDepth      = 0.5
# Note: The maxRootDepth is not used for non irrigated land cover type. 	
#
# Parameters for the Arno's scheme:
arnoBeta = None
# If arnoBeta is defined, the soil water capacity distribution is based on this.
# If arnoBeta is NOT defined, maxSoilDepthFrac must be defined such that arnoBeta will be calculated based on maxSoilDepthFrac and minSoilDepthFrac.


cropCoefficientNC = general/short_crop_coefficient.nc
coverFractionNC   = general/short_cover_fraction.nc
interceptCapNC    = general/short_intercept_capacity.nc


# other paramater values
minTopWaterLayer = 0.0
minCropKC        = 0.2
minInterceptCap  = 0.0002


noParameterExtrapolation = True


# initial conditions:
interceptStorIni = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/interceptStor_grassland_1978-12-31.map
snowCoverSWEIni  = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/snowCoverSWE_grassland_1978-12-31.map
snowFreeWaterIni = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/snowFreeWater_grassland_1978-12-31.map
topWaterLayerIni = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/topWaterLayer_grassland_1978-12-31.map
storUppIni       = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/storUpp_grassland_1978-12-31.map
storLowIni       = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/storLow_grassland_1978-12-31.map
interflowIni     = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/interflow_grassland_1978-12-31.map




[irrPaddyOptions]

name = irrPaddy
debugWaterBalance = True

# snow module properties
snowModuleType      =  Simple
freezingT           =  0.0
degreeDayFactor     =  0.0055
snowWaterHoldingCap =  0.1
refreezingCoeff     =  0.05


landCoverMapsNC  = None

fracVegCover     = general/fractionPaddy_extrapolated.map
minSoilDepthFrac = 0.99
maxSoilDepthFrac = 1.01
rootFraction1    = 1.00
rootFraction2    = 0.00
maxRootDepth     = 0.5
arnoBeta = None


# other paramater values
minTopWaterLayer = 0.05
minCropKC        = 0.2
cropDeplFactor   = 0.2
minInterceptCap  = 0.0002


cropCoefficientNC = general/paddy_cropfactor_filled.nc         
coverFractionNC   = general/paddy_groundcover_filled.nc
interceptCapNC    = general/paddy_interceptionstorage_filled.nc        


noParameterExtrapolation = True


# initial conditions:
interceptStorIni = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/interceptStor_irrPaddy_1978-12-31.map
snowCoverSWEIni  = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/snowCoverSWE_irrPaddy_1978-12-31.map
snowFreeWaterIni = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/snowFreeWater_irrPaddy_1978-12-31.map
topWaterLayerIni = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/topWaterLayer_irrPaddy_1978-12-31.map
storUppIni       = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/storUpp_irrPaddy_1978-12-31.map
storLowIni       = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/storLow_irrPaddy_1978-12-31.map
interflowIni     = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/interflow_irrPaddy_1978-12-31.map




[irrNonPaddyOptions]

name = irrNonPaddy
debugWaterBalance = True

# snow module properties
snowModuleType      =  Simple
freezingT           =  0.0
degreeDayFactor     =  0.0055
snowWaterHoldingCap =  0.1
refreezingCoeff     =  0.05


landCoverMapsNC  = None

fracVegCover     = general/fractionNonPaddy_extrapolated.map

minSoilDepthFrac = general/nonpaddy_minSoilDepthFrac_filled.map
maxSoilDepthFrac = general/nonpaddy_maxSoilDepthFrac_filled.map
rootFraction1    = general/nonpaddy_rootfraction_z1_filled.map
rootFraction2    = general/nonpaddy_rootfraction_z2_filled.map
maxRootDepth     = general/nonpaddy_maxSoilDepth_filled.map
arnoBeta = None


# other paramater values
minTopWaterLayer = 0.0
minCropKC        = 0.2
cropDeplFactor   = 0.5
minInterceptCap  = 0.0002


cropCoefficientNC = general/nonpaddy_cropfactor_filled.nc         
coverFractionNC   = general/nonpaddy_groundcover_filled.nc
interceptCapNC    = general/nonpaddy_interceptionstorage_filled.nc        


noParameterExtrapolation = True


# initial conditions:
interceptStorIni = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/interceptStor_irrNonPaddy_1978-12-31.map
snowCoverSWEIni  = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/snowCoverSWE_irrNonPaddy_1978-12-31.map
snowFreeWaterIni = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/snowFreeWater_irrNonPaddy_1978-12-31.map
topWaterLayerIni = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/topWaterLayer_irrNonPaddy_1978-12-31.map
storUppIni       = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/storUpp_irrNonPaddy_1978-12-31.map
storLowIni       = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/storLow_irrNonPaddy_1978-12-31.map
interflowIni     = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/interflow_irrNonPaddy_1978-12-31.map




[groundwaterOptions]

useMODFLOW = True

debugWaterBalance = True

#~ # the 'default' groundwater properties based on the 'actual' aqueduct run
#~ groundwaterPropertiesNC = None
#~ specificYield  = general/specific_yield_aquifer_05min.map
#~ kSatAquifer    = general/k_conductivity_aquifer_05min.map
#~ recessionCoeff = general/recession_coefficient_05min.map



# the groundwater parameters that are consistent with the run used for the Ulysses project 2024 (also used in the multiple drain work)
groundwaterPropertiesNC = None
specificYield      = /projects/0/dfguu/users/edwin/data/recession_coefficient_version_2023-12-XX/using_hand_threshold_5m/05min/specific_yield_aquifer_05min_filled_v20231205.map
kSatAquifer        = /projects/0/dfguu/users/edwin/data/recession_coefficient_version_2023-12-XX/using_hand_threshold_5m/05min/k_conductivity_aquifer_05min_filled_v20231205.map

# for linear groundwater reservoir
baseflow_exponent = 1.0
recessionCoeff     = /projects/0/dfguu/users/edwin/data/recession_coefficient_version_2023-12-XX/using_hand_threshold_5m/05min/recession_coefficient_05min_filled_v20231205.map


# minimum value for groundwater recession coefficient (day-1) 
# - about 11 years
minRecessionCoeff = 0.00025


# river bed properties - optional - used in Verkaik et al., 2024
# - river bed conductivity (m.day-1) ; the default value is taken from kSatAquifer
#~ riverBedConductivity = Default
riverBedConductivity    = /projects/0/dfguu/users/edwin/data/recession_coefficient_version_2023-12-XX/using_hand_threshold_5m/05min/k_conductivity_aquifer_05min_filled_v20231205.map
# - river bed thickness (m) ; the default value is 0.1 m
riverBedThickness    = 0.1
# - minimum river bed resistance (day) ; the default value is 1 day
minimumBedResistance = 1.0


# some options for constraining groundwater abstraction
limitFossilGroundWaterAbstraction      = True
estimateOfRenewableGroundwaterCapacity = 0.0
estimateOfTotalGroundwaterThickness    = general/thickness_05min_remapbil_to_30sec_filled_with_pcr_correct_lat_upscaled_back_to_05min_with_remapcon.nc

#~ # minimum and maximum total groundwater thickness - the default Aqueduct run 
#~ minimumTotalGroundwaterThickness       = 100.
#~ maximumTotalGroundwaterThickness       = None

# minimum and maximum total groundwater thickness - used in Verkaik et al., 2024
minimumTotalGroundwaterThickness       = 50.
maximumTotalGroundwaterThickness       = 1000.

# assumption for the minimum transmissivity value (unit: m2/day) that can be extracted (via capillary rise and/or groundwater abstraction) - optional - used in Verkaik et al., 2024
# - if None, abstraction and/or capillary rise can always occur everywhere and unlimited
minimumTransmissivityForProductiveAquifer = 50.
# - For a run with MODFLOW (especially an offline coupling run), abstraction can still occur for these cells. Yet, the abstraction will not be to the lowermost layer only, but it will be distribued to both layers based on transmissivities.

doNotExtrapolateThickness = True
noParameterExtrapolation  = True


# annual pumping capacity for each region (unit: billion cubic meter per year), should be given in a netcdf file
pumpingCapacityNC = general/gw_pumping_capacity_1960-2100.nc


#~ # The Aqueduct 2021 run used the following, but on April 2024 Edwin decided to disactivate the following (as he thinks it is more realistic to constrained the groundwater abstraction to local cells only; also this is better for the water balance closure (reducing errors due to the single precision of pcraster).),  
#~ # zonal IDs (scale) at which zonal allocation of groundwater is performed  
#~ allocationSegmentsForGroundwater = general/abstraction_zones_30min_05min.nc


# initial conditions:
storGroundwaterIni                           = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/storGroundwater_1978-12-31.map
#~ storGroundwaterIni                        = ESTIMATE_FROM_GROUNDWATER_RECHARGE_RATE

storGroundwaterFossilIni                     = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/storGroundwaterFossil_1978-12-31.map
#~ storGroundwaterFossilIni                  = Maximum

avgNonFossilGroundwaterAllocationLongIni     = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/avgNonFossilGroundwaterAllocationLong_1978-12-31.map
avgNonFossilGroundwaterAllocationShortIni    = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/avgNonFossilGroundwaterAllocationShort_1978-12-31.map
avgTotalGroundwaterAbstractionIni            = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/avgTotalGroundwaterAbstraction_1978-12-31.map
avgTotalGroundwaterAllocationLongIni         = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/avgTotalGroundwaterAllocationLong_1978-12-31.map
avgTotalGroundwaterAllocationShortIni        = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/avgTotalGroundwaterAllocationShort_1978-12-31.map
relativeGroundwaterHeadIni                   = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/relativeGroundwaterHead_1978-12-31.map
baseflowIni                                  = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/baseflow_1978-12-31.map

# we need avgStorGroundwater for a non linear groundwater reservoir
avgStorGroundwaterIni                        = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/avgStorGroundwater_1978-12-31.map


#~ # option to start with the maximum value for storGroundwaterFossilIni (this will set/lead to storGroundwaterFossilIni = Maximum ; overwrite/overrule existing storGroundwaterFossilIni)
#~ useMaximumStorGroundwaterFossilIni        = True
#~ useMaximumStorGroundwaterFossilIni        = False
#~ useMaximumStorGroundwaterFossilIni        = USE_MAXIMUM_STOR_GROUNDWATER_FOSSIL_INI


# option to start with the value of storGroundwaterIni estimated from groundwater recharge (this will set/lead to storGroundwaterIni = ESTIMATE_FROM_GROUNDWATER_RECHARGE_RATE)
#~ estimateStorGroundwaterIniFromRecharge    = True
#~ estimateStorGroundwaterIniFromRecharge    = False
#~ estimateStorGroundwaterIniFromRecharge    = ESTIMATE_STOR_GROUNDWATER_INI_FROM_RECHARGE
#~ dailyGroundwaterRechargeIni               = DAILY_GROUNDWATER_RECHARGE_INI


[routingOptions]

debugWaterBalance = True

# drainage direction map
lddMap           = general/lddsound_05min_version_20210330.map

# cell area (unit: m2)
cellAreaMap      = general/cdo_gridarea_clone_global_05min_correct_lats.nc

# routing method:
routingMethod = accuTravelTime

# manning coefficient
manningsN = 0.04

# Option for flood plain simulation
dynamicFloodPlain = True

# manning coefficient for floodplain
floodplainManningsN = 0.07


# channel gradient
gradient             = general/gradient_channel_parameters_5min_april_2021_global_covered_with_zero.nc

# constant channel depth 
constantChannelDepth = general/bankfull_depth_channel_parameters_5min_april_2021_global_covered_with_zero.nc

# constant channel width (optional)
constantChannelWidth = general/bankfull_width_channel_parameters_5min_april_2021_global_covered_with_zero.nc

# minimum channel width (optional)
minimumChannelWidth  = general/bankfull_width_channel_parameters_5min_april_2021_global_covered_with_zero.nc

# channel properties for flooding
bankfullCapacity     = None
# - If None, it will be estimated from (bankfull) channel depth (m) and width (m) 


# files for relative elevation (above minimum dem) 
relativeElevationFiles  = general/dzRel%04d_topography_parameters_5min_april_2021_global_covered_with_zero.nc
relativeElevationLevels = 0.0, 0.01, 0.05, 0.10, 0.20, 0.30, 0.40, 0.50, 0.60, 0.70, 0.80, 0.90, 1.00


# composite crop factors for WaterBodies: 
cropCoefficientWaterNC = general/cropCoefficientForOpenWater.nc
minCropWaterKC         = 1.00

# lake and reservoir parameters
onlyNaturalWaterBodies = False
waterBodyInputNC       = general/lakes_and_reservoirs_05min_global_version_20210330.nc


# initial conditions:
waterBodyStorageIni            = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/waterBodyStorage_1978-12-31.map
channelStorageIni              = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/channelStorage_1978-12-31.map
readAvlChannelStorageIni       = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/readAvlChannelStorage_1978-12-31.map
avgDischargeLongIni            = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/avgDischargeLong_1978-12-31.map
avgDischargeShortIni           = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/avgDischargeShort_1978-12-31.map
m2tDischargeLongIni            = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/m2tDischargeLong_1978-12-31.map
avgBaseflowLongIni             = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/avgBaseflowLong_1978-12-31.map
riverbedExchangeIni            = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/riverbedExchange_1978-12-31.map
subDischargeIni                = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/subDischarge_1978-12-31.map
avgLakeReservoirInflowShortIni = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/avgLakeReservoirInflowShort_1978-12-31.map
avgLakeReservoirOutflowLongIni = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/avgLakeReservoirOutflowLong_1978-12-31.map
timestepsToAvgDischargeIni     = /projects/0/dfguu2/users/edwin/pcrglobwb_wri_aqueduct_2021/pcrglobwb_aqueduct_2021_states_files/version_2021-09-16/gswp3-w5e5/historical-reference/begin_from_1960/global/states/timestepsToAvgDischarge_1978-12-31.map



[reportingOptions]

#~ landmask_for_reporting = general/cloneMaps/global_parallelization/mask_M%i.map
landmask_for_reporting    = None

# output files that will be written in the disk in netcdf files:
# - daily resolution
outDailyTotNC = referencePotET,baseflow,directRunoff,interflowTotal
# - monthly resolution
outMonthTotNC = actualET,irrPaddyWaterWithdrawal,irrNonPaddyWaterWithdrawal,domesticWaterWithdrawal,industryWaterWithdrawal,livestockWaterWithdrawal,runoff,totalRunoff,baseflow,directRunoff,interflowTotal,totalGroundwaterAbstraction,desalinationAbstraction,surfaceWaterAbstraction,fossilGroundwaterAbstraction,irrGrossDemand,nonIrrGrossDemand,totalGrossDemand,nonIrrWaterConsumption,nonIrrReturnFlow,precipitation,gwRecharge,surfaceWaterInf,referencePotET,totalEvaporation,totalPotentialEvaporation,totLandSurfaceActuaET,totalLandSurfacePotET,waterBodyActEvaporation,waterBodyPotEvaporation,precipitation_at_irrigation,netLqWaterToSoil_at_irrigation,evaporation_from_irrigation,transpiration_from_irrigation
outMonthAvgNC = discharge,temperature,dynamicFracWat,surfaceWaterStorage,interceptStor,snowFreeWater,snowCoverSWE,topWaterLayer,storUppTotal,storLowTotal,storGroundwater,storGroundwaterFossil,totalWaterStorageThickness,satDegUpp,satDegLow,channelStorage,waterBodyStorage
outMonthEndNC = totalWaterStorageThickness
# - annual resolution
outAnnuaTotNC = totalEvaporation,precipitation,gwRecharge,totalRunoff,baseflow,desalinationAbstraction,surfaceWaterAbstraction,nonFossilGroundwaterAbstraction,fossilGroundwaterAbstraction,totalGroundwaterAbstraction,totalAbstraction,irrGrossDemand,nonIrrGrossDemand,totalGrossDemand,nonIrrWaterConsumption,nonIrrReturnFlow,runoff,actualET,irrPaddyWaterWithdrawal,irrNonPaddyWaterWithdrawal,irrigationWaterWithdrawal,domesticWaterWithdrawal,industryWaterWithdrawal,livestockWaterWithdrawal,precipitation_at_irrigation,netLqWaterToSoil_at_irrigation,evaporation_from_irrigation,transpiration_from_irrigation
outAnnuaAvgNC = temperature,discharge,surfaceWaterStorage,waterBodyStorage,interceptStor,snowFreeWater,snowCoverSWE,topWaterLayer,storUppTotal,storLowTotal,storGroundwater,storGroundwaterFossil,totalWaterStorageThickness,satDegUpp,satDegLow,channelStorage,waterBodyStorage,fractionWaterBodyEvaporation,fractionTotalEvaporation,fracSurfaceWaterAllocation,fracDesalinatedWaterAllocation,gwRecharge
outAnnuaEndNC = surfaceWaterStorage,interceptStor,snowFreeWater,snowCoverSWE,topWaterLayer,storUppTotal,storLowTotal,storGroundwater,storGroundwaterFossil,totalWaterStorageThickness
# - monthly and annual maxima
outMonthMaxNC = channelStorage,dynamicFracWat,floodVolume,floodDepth,surfaceWaterLevel,discharge,totalRunoff
outAnnuaMaxNC = None


#~ [mergingOutputOptions]

#~ # output variables/files that will be merged:
#~ outDailyTotNC = None
#~ # - monthly resolution
#~ outMonthTotNC = actualET,runoff,totalRunoff,baseflow,directRunoff,interflowTotal,totalGroundwaterAbstraction,desalinationAbstraction,surfaceWaterAbstraction,fossilGroundwaterAbstraction,irrGrossDemand,nonIrrGrossDemand,totalGrossDemand,nonIrrWaterConsumption,nonIrrReturnFlow,precipitation,gwRecharge,surfaceWaterInf,totalEvaporation,totalPotentialEvaporation,precipitation_at_irrigation,netLqWaterToSoil_at_irrigation,evaporation_from_irrigation,transpiration_from_irrigation
#~ outMonthAvgNC = discharge,temperature,dynamicFracWat,surfaceWaterStorage,interceptStor,snowFreeWater,snowCoverSWE,topWaterLayer,storUppTotal,storLowTotal,storGroundwater,storGroundwaterFossil,totalWaterStorageThickness,satDegUpp,satDegLow,channelStorage,waterBodyStorage
#~ outMonthEndNC = None
#~ # - annual resolution
#~ outAnnuaTotNC = totalEvaporation,precipitation,gwRecharge,totalRunoff,baseflow,desalinationAbstraction,surfaceWaterAbstraction,nonFossilGroundwaterAbstraction,fossilGroundwaterAbstraction,totalGroundwaterAbstraction,totalAbstraction,irrGrossDemand,nonIrrGrossDemand,totalGrossDemand,nonIrrWaterConsumption,nonIrrReturnFlow,runoff,actualET,irrPaddyWaterWithdrawal,irrNonPaddyWaterWithdrawal,irrigationWaterWithdrawal,domesticWaterWithdrawal,industryWaterWithdrawal,livestockWaterWithdrawal,precipitation_at_irrigation,netLqWaterToSoil_at_irrigation,evaporation_from_irrigation,transpiration_from_irrigation
#~ outAnnuaAvgNC = temperature,discharge,gwRecharge
#~ outAnnuaEndNC = None
#~ # - monthly and annual maxima
#~ outMonthMaxNC = channelStorage,dynamicFracWat,floodVolume,floodDepth,surfaceWaterLevel,discharge,totalRunoff
#~ outAnnuaMaxNC = None

#~ # netcdf format and zlib setup
#~ formatNetCDF = NETCDF4
#~ zlib = True


#~ [globalMergingAndModflowOptions]

#~ # the global clone map
#~ cloneMap = general/lddsound_05min_version_20210330.map
#~ landmask = None
#~ online_coupling_between_pcrglobwb_and_modflow = False

#~ # parallelization
#~ number_of_clones = 53

#~ # cell resolution in arcsec
#~ cellsize_in_arcsec = 300

#~ # model extent
#~ xmin = -180             
#~ ymin = -90             
#~ xmax =  180            
#~ ymax =  90





[modflowParameterOptions]
# all the following parameters should be consistent to the ones used in Verkaik et al., 2024

# using varying DELR and DELC in order to correct horizontal anisotrophy of lat/lon cells (experimental)
using_varying_DELR_DELC = True
estimate_of_cell_horizontal_size_in_meter = /projects/0/dfguu/users/edwin/data/pcrglobwb_input_arise/develop/others/estimate_cell_dimension/05min/horizontal_size_mean.map
estimate_of_cell_vertical_size_in_meter   = /projects/0/dfguu/users/edwin/data/pcrglobwb_input_arise/develop/others/estimate_cell_dimension/05min/vertical_size.map

# number of modflow layers:
number_of_layers = 2

# Total thickness of groundwater (from both layers) is defined in the section "groundwaterOptions".

# The default values for aquifer properties (i.e. conductivities and storage coefficients) are defined in the field "groundwaterPropertiesNC" of the section "groundwaterOptions". Yet, these default values can be overwritten by setting the following information.


# confining layer (deklaag) properties (thickness in meter, conductivity in m/day, resistance in day)
#
# - confining layer thickness
usePreDefinedConfiningLayer               = True
confiningLayerThickness                   = /projects/0/dfguu/users/edwin/data/pcrglobwb_input_arise/develop/global_05min/groundwater/confining_layer_parameters/version_2020-09-XX/confining_layer_thickness_version_2016_remapbil_to_30sec_upscaled_back_to_05min_with_remapcon.nc
# - TODO: Improve this with SoilGrids.
#
# - confining layer horizontal conductivity (m/day)
confiningLayerHorizontalConductivity      = Default
# * If Default (or not defined), the default values from the field of "groundwaterPropertiesNC" of the section "groundwaterOptions" will be used.
#
# - confining layer vertical conductivity (m/day)
confiningLayerVerticalConductivity        = Default
# * If Default (or not defined), the default values from the field of "groundwaterPropertiesNC" of the section "groundwaterOptions" will be used.
# - maximum confining layer conductivity
maximumConfiningLayerVerticalConductivity = 0.005
# * PS: 0.005 used in WRI groundwater risk runs
#
# - resistance (day)
# * By default, the resistance (1/VCONT) between two layers equals to confiningLayerThickness (m) / confiningLayerVerticalConductivity (m.day-1)
# * Yet, we can limit this field with the following the maximum value (day):
maximumConfiningLayerResistance           = 100000.
#
# - primary storage coefficient (dimensionless)
confiningLayerPrimaryStorageCoefficient   = Default

# aquifer layer properties
#
# - aquifer layer horizontal conductivity (m/day)
aquiferLayerHorizontalConductivity        = Default
# * If Default (or not defined), the default values from the field of "groundwaterPropertiesNC" of the section "groundwaterOptions" will be used.
#
# - primary storage coefficient (dimensionless) for confined aquifer only
# * If Default (or not defined), the default specific yield values from the field of "groundwaterPropertiesNC" of the section "groundwaterOptions" will be used.
aquiferLayerPrimaryStorageCoefficient     = 0.003
# * PS: 0.003 based on de Graaf et al., 2017
# * The aquiferLayerPrimaryStorageCoefficient value will be set to the confined aquifer cells only. Cells without confining layer have their aquiferLayerPrimaryStorageCoefficient values equal to the specific yield values from the field of "groundwaterPropertiesNC".
#
# - secondary storage coefficient (dimensionless)
aquiferLayerSecondaryStorageCoefficient    = None
# If aquiferLayerSecondaryStorageCoefficient is defined (or not equal to None or False), we will use the layer type (LAYCON) 2. Note that for this layer type, storage coefficient values may alter from their primary to the secondary ones (and vice versa), but transmissivities constantly based on the layer thickness.
#
# - PS: The thickness of aquifer layer is totalGroundwaterThickness - confiningLayerThickness

# option to include/conceptualize aquitard, but only below the confining layer, that provides higher resistance
aquitardResistance = Default
# * If Default, the default value (day) is estimated by dividing half of (0.5) bottom layer thickness over kSatAquifer (defined in groundwaterPropertiesNC). Moreover, it is assumed that the extent of aquitard is the same as confining layer thickness (confiningLayerThickness > 0).
# # TODO (but not for land subsidence model runs): Provide a possibility to assign a map of aquitardResistance directly.

# general rule for minimum and maximum values for transmissivities (unit: m/day)
minimumTransmissivity = 10.0
maximumTransmissivity = 100000.0


# option to ignore negative groundwater recharge during MODFLOW simulation - the following may not be used for the online coupling between PCR-GLOBWB and MODFLOW 
ignoreCapRise = True


# elevation/topographical parameters, e.g. average DEM and minimum DEM within a cell - based on the Aqueduct 2021 run (5min) 
topographyNC   = general/topography_parameters_5min_april_2021_global_covered_with_zero.nc


#~ edwindql@tcn637.local.snellius.surf.nl:/projects/0/dfguu/users/edwin/data/pcrglobwb_input_arise/develop/global_05min/routing/channel_properties/version_20210401_from_03sec_merit_dem/maps_covered_with_zero$ ls -lah
#~ total 357M
#~ drwxr-sr-x 2 edwin dfguu  16K Aug  2  2021 .
#~ drwxr-sr-x 3 edwin dfguu  16K Aug  2  2021 ..
#~ -rw-r--r-- 1 edwin dfguu  36M Aug  2  2021 bankfull_depth_channel_parameters_5min_april_2021_global_covered_with_zero.nc
#~ -rw-r--r-- 1 edwin dfguu  36M Aug  2  2021 bankfull_width_channel_parameters_5min_april_2021_global_covered_with_zero.nc
#~ -rw-r--r-- 1 edwin dfguu 250M Aug  2  2021 channel_parameters_5min_april_2021_global_covered_with_zero.nc
#~ -rw-r--r-- 1 edwin dfguu  36M Aug  2  2021 gradient_channel_parameters_5min_april_2021_global_covered_with_zero.nc

# channel/routing parameters (these input values/files would be used to convert discharge to surface water elevation, based on Manning's equation) - based on the Aqueduct 2021 run
channelNC = /projects/0/dfguu/users/edwin/data/pcrglobwb_input_arise/develop/global_05min/routing/channel_properties/version_20210401_from_03sec_merit_dem/maps_covered_with_zero/channel_parameters_5min_april_2021_global_covered_with_zero.nc
# the manning coefficient used for converting discharge values to surface water elevation values
manningsN = 0.04
#
# - minimum channel gradient (m.m-1, optional) - this is recommended to avoid too high surface water level
minimumChannelGradient = 0.00005
# - minimum channel width (m, optional) - this is recommended, not only to avoid too high surface water level, but also to set minimum river bed conductance
minimumChannelWidth    = 5.0

# option to exclude river infiltration
minimumWidthOfRiversWithInfiltration = 10.0

# drainage direction map - based on the Aqueduct 2021 run
lddMap      = general/lddsound_05min_version_20210330.map


# cell area (unit: m2)
cellAreaMap = general/cdo_gridarea_clone_global_05min_correct_lats.nc


# lakes and reservoir parameters - based on the Aqueduct 2021 run
onlyNaturalWaterBodies = False
waterBodyInputNC       = general/lakes_and_reservoirs_05min_global_version_20210330.nc


doNotExtrapolateParameters = True


# some parameters for the PCG solver (not used for GLOBGM!)
DAMP                 = 0.75
# - for steady-state model, please do not use too many RCLOSE
RCLOSE = 1e4,1e5,1e9
HCLOSE = 0.001,0.01,0.1,0.2,0.5,1.0


[modflowTransientInputOptions]

# the following is None for an online coupling between PCR-GLOBWB and MODFLOW

#~ dischargeInputNC               = None
#~ runoffInputNC                  = None
#~ groundwaterRechargeInputNC     = None
#~ groundwaterAbstractionInputNC  = None
#~ channelStorageInputNC          = None


# - global extent
dischargeInputNC               = /projects/0/dfguu2/users/edwin/pcrglobwb_aqueduct_2021_monthly_annual_files/version_2021-09-16_merged/gswp3-w5e5/historical-reference/pcrglobwb_cmip6-isimip3-gswp3-w5e5_image-aqueduct_historical-reference_discharge_global_monthly-average_1960_2019_basetier1.nc
runoffInputNC                  = None
groundwaterRechargeInputNC     = /projects/0/dfguu2/users/edwin/pcrglobwb_aqueduct_2021_monthly_annual_files/version_2021-09-16_merged/gswp3-w5e5/historical-reference/pcrglobwb_cmip6-isimip3-gswp3-w5e5_image-aqueduct_historical-reference_gwRecharge_global_monthly-total_1960_2019_basetier1.nc
groundwaterAbstractionInputNC  = /projects/0/dfguu2/users/edwin/pcrglobwb_aqueduct_2021_monthly_annual_files/version_2021-09-16_merged/gswp3-w5e5/historical-reference/pcrglobwb_cmip6-isimip3-gswp3-w5e5_image-aqueduct_historical-reference_totalGroundwaterAbstraction_global_monthly-total_1960_2019_basetier1.nc
channelStorageInputNC          = None
#

valuesRechargeAndAbstractionInMonthlyTotal = True

#~ estimateDischargeFromRunoff = False

#~ valuesRunoffInMonthlyTotal  = True

# initial conditions for groundwater head (unit: m)
groundwaterHeadLayer1Ini = None
groundwaterHeadLayer2Ini = None


usingPredefinedInitialHead = False
# - if False, the initial groundwater head(s) will be based on the steady state simulation using the input defined in modflowSteadyStateInputOptions
# - if True , the following initial conditions of the groundwater head will be based on the steady state simulation using the input defined in modflowSteadyStateInputOptions
# - Note: For the online coupling PCR-GLOBWB-MODFLOW, we have to first define the initial conditions of groundwater head (usingPredefinedInitialHead = True)


[modflowSteadyStateInputOptions]

#~ (pcrglobwb_python3) edwin@tcn637.local.snellius.surf.nl:/projects/0/dfguu/users/edwin/pcrglobwb_aqueduct_2021_naturalized/version_2021-09-16_naturalized/gswp3-w5e5/historical-reference/selected_1979-2019/average_1979-2019$ ls -lah *.map
#~ -rw-r----- 1 edwin dfguu 36M Apr 17 13:29 timavg_discharge_monthAvg_output_1979-2019.nc.map
#~ -rw-r----- 1 edwin dfguu 36M Apr 17 13:29 timavg_gwRecharge_annual-average_output_1979-2019.nc.map

# The following input maps used for the steady state run
# - average discharge (unit: m3/s)
avgDischargeInputMap              = /projects/0/dfguu/users/edwin/pcrglobwb_aqueduct_2021_naturalized/version_2021-09-16_naturalized/gswp3-w5e5/historical-reference/selected_1979-2019/average_1979-2019/timavg_discharge_monthAvg_output_1979-2019.nc.map
# - average groundwater recharge (unit: m/day)
avgGroundwaterRechargeInputMap    = /projects/0/dfguu/users/edwin/pcrglobwb_aqueduct_2021_naturalized/version_2021-09-16_naturalized/gswp3-w5e5/historical-reference/selected_1979-2019/average_1979-2019/timavg_gwRecharge_annual-average_output_1979-2019.nc.map
# - average groundwater abstraction (unit: m/day)
avgGroundwaterAbstractionInputMap = 0.0
# - average channel storage (unit: m3) - optional
avgChannelStorageInputMap      = None

#~ estimateDischargeFromRunoff = True

#~ # - average runoff (unit: m/day)
#~ avgRunoffInputMap           = None

# initial estimate for groundwater head (unit: m)
usingInitialHeadEstimate = False
groundwaterHeadLayer1Estimate = None
groundwaterHeadLayer2Estimate = None

# option to ignore negative capillary rise during a steady state simulation
ignoreCapRiseSteadyState = True

#~ # option to introduce extra spin-up years (using transient simulation with constant input with 365 * 10 day stress period)
#~ extraSpinUpYearsWith10YearStressPeriod = 8

#~ # option to introduce extra spin-up years (using transient simulation with constant input with 365 day stress period)
#~ extraSpinUpYearsWith365DayStressPeriod = 10

#~ # option to introduce extra spin-up years (using transient simulation with constant input with 30 day stress period)
#~ extraSpinUpYearsWith30DayStressPeriod  = 10

#~ # for testing
#~ extraSpinUpYearsWith10YearStressPeriod = 2
#~ extraSpinUpYearsWith365DayStressPeriod = 2
#~ extraSpinUpYearsWith365DayStressPeriod = 2



[reportingForModflowOptions]

# output files from modflow calculation that will be written in the disk in netcdf files:
outMonthEndNC = groundwaterHeadLayer1,groundwaterHeadLayer2
outAnnuaEndNC = None

# At this moment, we cannot report the following.
outDailyTotNC = None
outMonthTotNC = None
outMonthAvgNC = None
outAnnuaTotNC = None
outAnnuaAvgNC = None
outMonthMaxNC = None
outAnnuaMaxNC = None

# option to make/copy backup of modflow files
make_backup_of_modflow_files = False

